components:
  schemas:
    ErrorResponse:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string

    UnprocessableEntityError:
      allOf:
        - $ref: '#/components/schemas/ErrorResponse'
        - type: object
          properties:
            details:
              type: array
              items:
                type: object
                properties:
                  field:
                    type: string
                  message:
                    type: string
      
                    
  responses:
    #400 - Bad Request
    BadRequest:
      description: Bad Request - Invalid request syntax
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            errorCode: BAD_REQUEST
            message: Invalid request syntax/ Cú pháp yêu cầu không hợp lệ
    
    #401 - Unauthorized
    Unauthorized:
      description: Unauthorized access
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            errorCode: UNAUTHORIZED
            message: Authentication required to access this resource/ Yêu cầu xác thực để truy cập tài nguyên này

    #403 - Forbidden
    Forbidden:
      description: Forbidden access
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            errorCode: FORBIDDEN
            message: Insufficient permissions to access this resource /  Không đủ quyền truy cập tài nguyên này
    

    #404 - Resource Not Found
    ResourceNotFound:
      description: Resource Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            errorCode: RESOURCE_NOT_FOUND
            message: The requested resource was not found / Không tìm thấy tài nguyên yêu cầu

    #409 - Conflict
    Conflict:
      description: Conflict - Resource state conflict
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            errorCode: CONFLICT
            message: User with this email already exists / Người dùng với email này đã tồn tại
      
    #422 -  Unprocessable Entity
    UnprocessableEntity:
      description: Unprocessable Entity - Input data validation failed
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UnprocessableEntityError'
          example:
            errorCode: UNPROCESSABLE_ENTITY
            message: Invalid input data /  Dữ liệu đầu vào không hợp lệ
            details:
              - field: email
                message: Invalid email format / Định dạng email không hợp lệ
              - field: password
                message: Password must be at least 8 characters / Mật khẩu phải có ít nhất 8 ký tự

    #500 - Internal Server Error
    InternalServerError:
      description: Internal Server Error - An unexpected error occurred on the server
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            errorCode: INTERNAL_SERVER_ERROR
            message: An unexpected error occurred / Đã xảy ra lỗi không mong muốn
