components:
  schemas:
    ErrorResponse:
      type: object
      properties:
        errorCode:
          type: string
        messageEn:
          type: string
        messageVn:
          type: string

    UnprocessableEntityError:
      allOf:
        - $ref: '#/components/schemas/ErrorResponse'
        - type: object
          properties:
            details:
              type: array
              items:
                type: object
                properties:
                  field:
                    type: string
                  messageEn:
                    type: string
                  messageVn:
                    type: string
                    
  responses:
    #400 - Bad Request
    BadRequest:
      description: Bad Request - Invalid request syntax
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            errorCode: BAD_REQUEST
            messageEn: Invalid request syntax
            messageVn: Cú pháp yêu cầu không hợp lệ
    
    #401 - Unauthorized
    Unauthorized:
      description: Unauthorized access
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            errorCode: UNAUTHORIZED
            messageEn: Authentication required to access this resource
            messageVn: Yêu cầu xác thực để truy cập tài nguyên này

    #403 - Forbidden
    Forbidden:
      description: Forbidden access
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            errorCode: FORBIDDEN
            messageEn: Insufficient permissions to access this resource
            messageVn: Không đủ quyền truy cập tài nguyên này

    #404 - Resource Not Found
    ResourceNotFound:
      description: Resource Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            errorCode: RESOURCE_NOT_FOUND
            messageEn: The requested resource was not found
            messageVn: Không tìm thấy tài nguyên yêu cầu

    #409 - Conflict
    Conflict:
      description: Conflict - Resource state conflict
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          examples:
            duplicateResource:
              summary: Tài nguyên trùng lặp
              value:
                errorCode: CONFLICT
                messageEn: "Resource already exists"
                messageVn: "Tài nguyên đã tồn tại"
            userConflict:
              summary: Người dùng đã tồn tại
              value:
                errorCode: CONFLICT
                messageEn: "User with this email already exists"
                messageVn: "Người dùng với email này đã tồn tại"
      
    #422 -  Unprocessable Entity
    UnprocessableEntity:
      description: Unprocessable Entity - Input data validation failed
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UnprocessableEntityError'
          example:
            errorCode: UNPROCESSABLE_ENTITY
            messageEn: Invalid input data
            messageVn: Dữ liệu đầu vào không hợp lệ
            details:
              - field: email
                messageEn: Invalid email format
                messageVn: Định dạng email không hợp lệ
              - field: password
                messageEn: Password must be at least 8 characters
                messageVn: Mật khẩu phải có ít nhất 8 ký tự

    #500 - Internal Server Error
    InternalServerError:
      description: Internal Server Error - An unexpected error occurred on the server
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            errorCode: INTERNAL_SERVER_ERROR
            messageEn: An unexpected error occurred
            messageVn: Đã xảy ra lỗi không mong muốn 